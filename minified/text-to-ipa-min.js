if(typeof TextToIPA!=='object'){TextToIPA={}}(function(){'use strict';if(typeof TextToIPA._IPADict!=='object'){TextToIPA._IPADict={}}function IPAWord(error,text){this.error=error;this.text=text}if(typeof TextToIPA._parseDict!=='function'){TextToIPA._parseDict=function(lines){console.log('TextToIPA: Beginning parsing to dict...');for(var i in lines){var arr=lines[i].split(/\s+/g);TextToIPA._IPADict[arr[0]]=arr[1]}console.log('TextToIPA: Done parsing.')}}if(typeof TextToIPA.loadDict!=='function'){TextToIPA.loadDict=function(location){console.log('TextToIPA: Loading dict from '+location+'...');if(typeof location!=='string'){console.log('TextToIPA Error: Location is not valid!')}else{var txtFile=new XMLHttpRequest();txtFile.open('GET',location,true);txtFile.onreadystatechange=function(){if(txtFile.readyState==4){if(txtFile.status==200||txtFile.status==0){TextToIPA._parseDict(txtFile.responseText.split('\n'))}}};txtFile.send(null)}}}if(typeof TextToIPA.lookup!=='function'){TextToIPA.lookup=function(word){if(Object.keys(TextToIPA._IPADict).length===0){console.log('TextToIPA Error: No data in TextToIPA._IPADict. Did "TextToIPA.loadDict()" run?')}else{if(typeof TextToIPA._IPADict[word]!='undefined'){var error=null;var text=TextToIPA._IPADict[word];for(var i=1;i<4;i+=1){if(typeof TextToIPA._IPADict[word+'('+i+')']!='undefined'){error='multi';text+=' OR '+TextToIPA._IPADict[word+'('+i+')'];}else{break}}return new IPAWord(error,text)}else{return new IPAWord('undefined',word)}}}}}());
